import{A,B as O,j as y,x as C,g as d,o as i,b as e,k as L,a,r as h,C as S,w as r,n as m,T as q,c as N,d as w,l as k,i as _,F as M,p as B,t as x,e as D,D as j,f}from"./app-XSlxjz1o.js";import{A as I}from"./ApplicationLogo-CfnQIXXg.js";const T={class:"relative"},V={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(u){const o=u,t=v=>{c.value&&v.key==="Escape"&&(c.value=!1)};A(()=>document.addEventListener("keydown",t)),O(()=>document.removeEventListener("keydown",t));const s=y(()=>({48:"w-48"})[o.width.toString()]),p=y(()=>o.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":o.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),c=C(!1);return(v,n)=>(i(),d("div",T,[e("div",{onClick:n[0]||(n[0]=l=>c.value=!c.value)},[h(v.$slots,"trigger")]),L(e("div",{class:"fixed inset-0 z-40",onClick:n[1]||(n[1]=l=>c.value=!1)},null,512),[[S,c.value]]),a(q,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:r(()=>[L(e("div",{class:m(["absolute z-50 mt-2 rounded-md shadow-lg",[s.value,p.value]]),style:{display:"none"},onClick:n[2]||(n[2]=l=>c.value=!1)},[e("div",{class:m(["rounded-md ring-1 ring-black ring-opacity-5",u.contentClasses])},[h(v.$slots,"content")],2)],2),[[S,c.value]])]),_:3})]))}},E={__name:"DropdownLink",props:{href:{type:String,required:!0}},setup(u){return(o,t)=>(i(),N(w(k),{href:u.href,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:r(()=>[h(o.$slots,"default")]),_:3},8,["href"]))}},$={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(u){const o=u,t=y(()=>o.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(s,p)=>(i(),N(w(k),{href:u.href,class:m(t.value)},{default:r(()=>[h(s.$slots,"default")]),_:3},8,["href","class"]))}},b={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(u){const o=u,t=y(()=>o.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(s,p)=>(i(),N(w(k),{href:u.href,class:m(t.value)},{default:r(()=>[h(s.$slots,"default")]),_:3},8,["href","class"]))}},F={class:"relative"},P={class:"inline-flex rounded-md"},R={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none relative"},H={key:0,class:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white"},U={class:"p-2"},G={key:0,class:"mt-2"},J=["onClick"],K={key:1,class:"mt-4"},Q=["onClick"],W={key:2,class:"p-4 text-center text-sm text-gray-500"},X={__name:"NotificationsDropdown",setup(u){const o=C([]),t=new Date().toISOString().slice(0,10),s=async()=>{try{const n=await j.get(route("notifications.index"));o.value=n.data.unread}catch(n){console.error("Error fetching notifications:",n)}};A(()=>{s()});const p=y(()=>o.value.filter(n=>n.data.birthday_date>=t)),c=y(()=>o.value.filter(n=>n.data.birthday_date<t)),v=async n=>{try{await j.patch(route("notifications.read",{notification:n.id})),o.value=o.value.filter(l=>l.id!==n.id)}catch(l){console.error("Error marking notification as read:",l)}};return(n,l)=>(i(),d("div",F,[a(V,{align:"right",width:"96"},{trigger:r(()=>[e("span",P,[e("button",R,[l[0]||(l[0]=e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),o.value.length>0?(i(),d("span",H,x(o.value.length),1)):_("",!0)])])]),content:r(()=>[e("div",U,[l[3]||(l[3]=e("h3",{class:"text-sm font-semibold text-gray-700 px-2"},"Notificaciones",-1)),p.value.length>0?(i(),d("div",G,[l[1]||(l[1]=e("h4",{class:"text-xs font-bold text-gray-500 uppercase px-2"},"Nuevas",-1)),(i(!0),d(M,null,B(p.value,g=>(i(),d("div",{key:g.id,class:"mt-1 p-2 text-sm text-gray-800 rounded-md hover:bg-gray-100"},[e("p",null,x(g.data.message),1),e("button",{onClick:D(z=>v(g),["stop"]),class:"text-xs text-blue-500 hover:underline mt-1"},"Marcar como visto",8,J)]))),128))])):_("",!0),c.value.length>0?(i(),d("div",K,[l[2]||(l[2]=e("h4",{class:"text-xs font-bold text-red-500 uppercase px-2"},"Vencidas",-1)),(i(!0),d(M,null,B(c.value,g=>(i(),d("div",{key:g.id,class:"mt-1 p-2 text-sm text-gray-800 bg-red-50 rounded-md hover:bg-red-100"},[e("p",null,x(g.data.message),1),e("button",{onClick:D(z=>v(g),["stop"]),class:"text-xs text-blue-500 hover:underline mt-1"},"Marcar como visto",8,Q)]))),128))])):_("",!0),o.value.length===0?(i(),d("div",W," No tienes notificaciones nuevas. ")):_("",!0)])]),_:1})]))}},Y={class:"min-h-screen bg-gray-100"},Z={class:"border-b border-gray-100 bg-white"},ee={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},te={class:"flex h-16 justify-between"},se={class:"flex"},oe={class:"flex shrink-0 items-center"},re={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},ne={class:"hidden sm:ms-6 sm:flex sm:items-center"},ae={class:"ms-3 relative"},ie={class:"relative ms-3"},le={class:"inline-flex rounded-md"},de={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},ue={class:"-me-2 flex items-center sm:hidden"},ce={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},fe={class:"space-y-1 pb-3 pt-2"},pe={class:"border-t border-gray-200 pb-1 pt-4"},ve={class:"px-4"},ge={class:"text-base font-medium text-gray-800"},me={class:"text-sm font-medium text-gray-500"},he={class:"mt-3 space-y-1"},xe={key:0,class:"bg-white shadow"},ye={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},we={__name:"AuthenticatedLayout",setup(u){const o=C(!1);return(t,s)=>(i(),d("div",null,[e("div",Y,[e("nav",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[a(w(k),{href:t.route("dashboard")},{default:r(()=>[a(I,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),e("div",re,[a($,{href:t.route("dashboard"),active:t.route().current("dashboard")},{default:r(()=>s[1]||(s[1]=[f(" Dashboard ",-1)])),_:1,__:[1]},8,["href","active"]),a($,{href:t.route("customers.index"),active:t.route().current("customers.index")},{default:r(()=>s[2]||(s[2]=[f(" Clientes ",-1)])),_:1,__:[2]},8,["href","active"]),a($,{href:t.route("customers.import.create"),active:t.route().current("customers.import.create")},{default:r(()=>s[3]||(s[3]=[f(" Importar Clientes ",-1)])),_:1,__:[3]},8,["href","active"])])]),e("div",ne,[e("div",ae,[a(X)]),e("div",ie,[a(V,{align:"right",width:"48"},{trigger:r(()=>[e("span",le,[e("button",de,[f(x(t.$page.props.auth.user.name)+" ",1),s[4]||(s[4]=e("svg",{class:"-me-0.5 ms-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]),content:r(()=>[a(E,{href:t.route("profile.edit")},{default:r(()=>s[5]||(s[5]=[f(" Profile ",-1)])),_:1,__:[5]},8,["href"]),a(E,{href:t.route("logout"),method:"post",as:"button"},{default:r(()=>s[6]||(s[6]=[f(" Log Out ",-1)])),_:1,__:[6]},8,["href"])]),_:1})])]),e("div",ue,[e("button",{onClick:s[0]||(s[0]=p=>o.value=!o.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(i(),d("svg",ce,[e("path",{class:m({hidden:o.value,"inline-flex":!o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:m({hidden:!o.value,"inline-flex":o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:m([{block:o.value,hidden:!o.value},"sm:hidden"])},[e("div",fe,[a(b,{href:t.route("dashboard"),active:t.route().current("dashboard")},{default:r(()=>s[7]||(s[7]=[f(" Dashboard ",-1)])),_:1,__:[7]},8,["href","active"]),a(b,{href:t.route("customers.index"),active:t.route().current("customers.index")},{default:r(()=>s[8]||(s[8]=[f(" Clientes ",-1)])),_:1,__:[8]},8,["href","active"]),a(b,{href:t.route("customers.import.create"),active:t.route().current("customers.import.create")},{default:r(()=>s[9]||(s[9]=[f(" Importar Clientes ",-1)])),_:1,__:[9]},8,["href","active"])]),e("div",pe,[e("div",ve,[e("div",ge,x(t.$page.props.auth.user.name),1),e("div",me,x(t.$page.props.auth.user.email),1)]),e("div",he,[a(b,{href:t.route("profile.edit")},{default:r(()=>s[10]||(s[10]=[f(" Profile ",-1)])),_:1,__:[10]},8,["href"]),a(b,{href:t.route("logout"),method:"post",as:"button"},{default:r(()=>s[11]||(s[11]=[f(" Log Out ",-1)])),_:1,__:[11]},8,["href"])])])],2)]),t.$slots.header?(i(),d("header",xe,[e("div",ye,[h(t.$slots,"header")])])):_("",!0),e("main",null,[h(t.$slots,"default")])])]))}};export{we as _};
